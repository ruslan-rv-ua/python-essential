# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏

### –î–µ–∫–æ—Ä—É—î–º–æ –ø–æ–¥–∞—Ä—É–Ω–∫–∏

–£—è–≤—ñ–º–æ, —â–æ —É –Ω–∞—Å —î –ø–µ–≤–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç, —è–∫–∏–π –º–∏ —Ö–æ—á–µ–º–æ –∫–æ–º—É—Å—å –ø–æ–¥–∞—Ä—É–≤–∞—Ç–∏. 
–î–∞–≤–∞–π—Ç–µ –æ—Ñ–æ—Ä–º–∏–º–æ —Ü–µ–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫ —è–∫ —Ñ—É–Ω–∫—Ü—ñ—é:

	:::python
	>>> def gift_function():
	...     print('–Ø ‚Äî –ø–æ–¥–∞—Ä—É–Ω–æ–∫!')
	...
	>>> gift_function()
	–Ø ‚Äî –ø–æ–¥–∞—Ä—É–Ω–æ–∫!
	>>>

–ê–ª–µ —â–æ–± –Ω–∞—à –ø–æ–¥–∞—Ä—É–Ω–æ–∫ –≤–∏–≥–ª—è–¥–∞–≤ –ø—Ä–∏–≤–∞–±–ª–∏–≤–æ, –¥–∞–≤–∞–π—Ç–µ –æ–±–≥–æ—Ä–Ω–µ–º–æ –π–æ–≥–æ —É –ø—Ä–∏–≤–∞–±–ª–∏–≤–µ —Å–≤—è—Ç–∫–æ–≤–µ —É–ø–∞–∫—É–≤–∞–Ω–Ω—è. –£–ø–∞–∫—É–≤–∞–Ω–Ω—è –º–∏ —Ç–µ–∂ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º–æ —Ñ—É–Ω–∫—Ü—ñ—î—é, —è–∫–∞, –±—É–¥–µ –≤ —è–∫–æ—Å—Ç—ñ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø—Ä–∏–π–º–∞—Ç–∏ –Ω–∞—à –ø–æ–¥–∞—Ä—É–Ω–æ–∫, –Ω—É, —Å–∞–º–µ —Ç–æ–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫, —è–∫–∏–π –Ω–∞–º —ñ —Ç—Ä–µ–±–∞ –æ–±–≥–æ—Ä–Ω—É—Ç–∏:

	:::python
	>>> def wrap_function(gift_to_wrap_function):
	...     print('–Ø ‚Äî —Å–≤—è—Ç–∫–æ–≤–∞ –æ–±–≥–æ—Ä—Ç–∫–∞! –Ø –æ–±–≥–æ—Ä–Ω—É –ø–æ–¥–∞—Ä—É–Ω–æ–∫.')
	...     gift_to_wrap_function()
	...     print('–ü–æ–¥–∞—Ä—É–Ω–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–æ!')
	...
	>>> wrap_function(gift_function)
	–Ø ‚Äî —Å–≤—è—Ç–∫–æ–≤–∞ –æ–±–≥–æ—Ä—Ç–∫–∞! –Ø –æ–±–≥–æ—Ä–Ω—É –ø–æ–¥–∞—Ä—É–Ω–æ–∫.
	–Ø ‚Äî –ø–æ–¥–∞—Ä—É–Ω–æ–∫!
	–ü–æ–¥–∞—Ä—É–Ω–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–æ!
	>>>

–Ü —É—è–≤—ñ–º–æ —Å–æ–±—ñ –ª—é–¥–∏–Ω—É, —è–∫–∞ –∑–∞–π–º–∞—î—Ç—å—Å—è –æ–±–≥–æ—Ä—Ç–∞–Ω–Ω—è–º –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤ —É —Å–≤—è—Ç–∫–æ–≤–µ —É–ø–∞–∫—É–≤–∞–Ω–Ω—è. –ù–∞–∑–≤–µ–º–æ —ó—ó "–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º".

–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É? –£–ø–∞–∫—É–≤–∞–Ω–Ω—è —É –Ω—å–æ–≥–æ –≤–∂–µ —î, –≤—ñ–Ω –¥–æ–±—Ä–µ –ø—ñ–¥–≥–æ—Ç—É–≤–∞–≤—Å—è –¥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–≤–æ—ó—Ö –æ–±–æ–≤'—è–∑–∫—ñ–≤. –û—Ç–∂–µ –π–æ–º—É –ª–∏—à–µ —Ç—Ä–µ–±–∞ –¥–∞—Ç–∏ —Ç–æ–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫, —è–∫–∏–π —Ç—Ä–µ–±–∞ "–¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏" —Å–≤—è—Ç–∫–æ–≤–æ—é –æ–±–≥–æ—Ä—Ç–∫–æ—é.

–©–æ –±—É–¥–µ —Ä–æ–±–∏—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä? –í—ñ–∑–º–µ —É–ø–∞–∫—É–≤–∞–Ω–Ω—è, –æ–±–≥–æ—Ä–Ω–µ –Ω–∏–º –ø–æ–¥–∞—Ä—É–Ω–æ–∫, —ñ –ø–æ–≤–µ—Ä–Ω–µ –≤–∂–µ —É–ø–∞–∫–æ–≤–∞–Ω–∏–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫.

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä —É –Ω–∞—Å —Ç–µ–∂ –±—É–¥–µ —Ñ—É–Ω–∫—Ü—ñ—î—é:

	:::python
	>>> def decorator_function(gift_to_wrap_function):
	...     def wrap_function():
	...             print('–Ø ‚Äî —Å–≤—è—Ç–∫–æ–≤–∞ –æ–±–≥–æ—Ä—Ç–∫–∞! –Ø –æ–±–≥–æ—Ä–Ω—É –ø–æ–¥–∞—Ä—É–Ω–æ–∫.')
	...             gift_to_wrap_function()
	...             print('–ü–æ–¥–∞—Ä—É–Ω–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–æ!')
	...     return wrap_function
	...
	>>> decorated_gift_function = decorator_function(gift_function)

–î–∞–≤–∞–π—Ç–µ –ø–æ–¥–∏–≤–∏–º–æ—Å—å —â–æ –º–∏ —Ç–µ–ø–µ—Ä –º–∞—î–º–æ:

	:::python
	>>> gift_function()
	–Ø ‚Äî –ø–æ–¥–∞—Ä—É–Ω–æ–∫!
	>>> decorated_gift_function()
	–Ø ‚Äî —Å–≤—è—Ç–∫–æ–≤–∞ –æ–±–≥–æ—Ä—Ç–∫–∞! –Ø –æ–±–≥–æ—Ä–Ω—É –ø–æ–¥–∞—Ä—É–Ω–æ–∫.
	–Ø ‚Äî –ø–æ–¥–∞—Ä—É–Ω–æ–∫!
	–ü–æ–¥–∞—Ä—É–Ω–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–æ!
	>>>

–£–ø—Å... –î–≤–∞ –ø–æ–¥–∞—Ä—É–Ω–∫–∏ ‚Äî –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–∏–π —ñ –Ω–µ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–∏–π! 
–ê –º–∞—î –∂ –±—É—Ç–∏ –æ–¥–∏–Ω –ø–æ–¥–∞—Ä—É–Ω–æ–∫ ‚Äî –ø—Ä–æ—Å—Ç–æ —Ç–æ–π, —â–æ –±—É–≤ —Ä–∞–Ω—ñ—à–µ –Ω–µ–¥–µ–∫–æ—Ä–æ–≤–∞–Ω–∏–º —Å—Ç–∞–≤ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–∏–º. –î–∞–≤–∞–π—Ç–µ –≤–∏–ø—Ä–∞–≤–∏–º–æ –ø–æ–º–∏–ª–∫—É:

	:::python
	>>> gift_function = decorator_function(gift_function)
	>>> gift_function()
	–Ø ‚Äî —Å–≤—è—Ç–∫–æ–≤–∞ –æ–±–≥–æ—Ä—Ç–∫–∞! –Ø –æ–±–≥–æ—Ä–Ω—É –ø–æ–¥–∞—Ä—É–Ω–æ–∫.
	–Ø ‚Äî –ø–æ–¥–∞—Ä—É–Ω–æ–∫!
	–ü–æ–¥–∞—Ä—É–Ω–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–æ!
	>>>
	
–¢–µ, —â–æ —Ç—Ä–µ–±–∞! –í—ñ–¥–¥–∞–ª–∏ –ø–æ–¥–∞—Ä—É–Ω–æ–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É, —ñ –æ—Ç—Ä–∏–º–∞–ª–∏ –π–æ–≥–æ –≤–∂–µ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–∏–º.
	
–Ø–∫—ñ –º–æ–∂–Ω–∞ –∑—Ä–æ–±–∏—Ç–∏ –≤–∏—Å–Ω–æ–≤–∫–∏ –Ω–∞ –¥–∞–Ω–∏–π –º–æ–º–µ–Ω—Ç?

–ú–∏ –≤–∑—è–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—é, –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –¥–æ–¥–∞–ª–∏ –¥–æ –Ω–µ—ó –ø–µ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª, —ñ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º –æ—Ç—Ä–∏–º–∞–ª–∏ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é, –∞–ª–µ –≤–∂–µ "–ø–æ–∫—Ä–∞—â–µ–Ω—É".


### –î–µ–∫–æ—Ä—É—î–º–æ –∑—Ä—É—á–Ω–æ!

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ ‚Äî –¥—É–∂–µ –∫–æ—Ä–∏—Å–Ω–∞ —ñ –∑—Ä—É—á–Ω–∞ —à—Ç—É–∫–∞, —ñ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é—Ç—å—Å—è –¥–æ—Å–∏—Ç—å —á–∞—Å—Ç–æ. –¢–æ–º—É –¥–ª—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤ –≤ Python –ø—Ä–∏–¥—É–º–∞–ª–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –±—ñ–ª—å—à –∑—Ä—É—á–Ω–æ. 
–ó –≤–∏—â–µ–Ω–∞–≤–µ–¥–µ–Ω–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∑–∞–ø–∏—Å:

	:::python
	>>> def gift_iphone():
	...     print('–Ø ‚Äî –∞–π—Ñ–æ–Ω!')
	...
	>>> gift_iphone = decorator_function(gift_iphone)

–±—É–¥–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–º —Ç–∞–∫–æ–º—É:

	:::python
	>>> @decorator_function
	... def gift_iphone():
	...     print('–Ø ‚Äî –∞–π—Ñ–æ–Ω!')
	...
	>>> gift_iphone()
	–Ø ‚Äî —Å–≤—è—Ç–∫–æ–≤–∞ –æ–±–≥–æ—Ä—Ç–∫–∞! –Ø –æ–±–≥–æ—Ä–Ω—É –ø–æ–¥–∞—Ä—É–Ω–æ–∫.
	–Ø ‚Äî –∞–π—Ñ–æ–Ω!
	–ü–æ–¥–∞—Ä—É–Ω–æ–∫ –æ–±–≥–æ—Ä–Ω—É—Ç–æ!
	>>>
	
–¢–æ–±—Ç–æ —Å–ø–æ—á–∞—Ç–∫—É –≤–∫–∞–∑—É—î–º–æ —ñ–º'—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –ø—ñ—Å–ª—è –∑–Ω–∞—á–∫–∞ `@`, —ñ –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É —Ä—è–¥–∫—É —Ç—É —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫—É —Ç—Ä–µ–±–∞ –¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏ –≤–∏—â–µ–Ω–∞–≤–µ–¥–µ–Ω–∏–º –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º. 

–î–∞–≤–∞–π—Ç–µ –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥–∞—Ö —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ —è–∫ —â–µ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏.

### –ü—Ä–∞–∫—Ç–∏–∫—É–º: —Ö—Ç–æ —à–≤–∏–¥—à–µ?
	
–ó–∞–¥–∞—á–∞: –Ω–∞–ø–∏—Å–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é —è–∫–∞ –ø–æ–≤–µ—Ä—Ç–∞—î —Å–∏–º–≤–æ–ª—å–Ω–ª–∏–π —Ä—è–¥–æ–∫ –∑ –æ–¥–Ω–æ–≥–æ –º—ñ–ª—å–π–æ–Ω–∞ –ø—Ä–æ–±—ñ–ª—ñ–≤.

–ó–∞–¥–∞—á—É –º–æ–∂–Ω–∞ –≤–∏—Ä—ñ—à–∏—Ç–∏ –±–∞–≥–∞—Ç—å–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏, –æ—Å—å –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

	:::python
	>>> def f1():
	...     res = ''
	...     for i in range(10**6):
	...             res += ' '
	...
	>>> def f2():
	...     res = ' ' * 10**6
	...
	>>>
	
–Ø–∫–∞ –∑ —Ñ—É–Ω–∫—Ü—ñ–π –±—É–¥–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—å —à–≤–∏–¥—à–µ?	–©–æ–± –∑'—è—Å—É–≤–∞—Ç–∏, –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–º—ñ—Ä—è—î–º–æ —á–∞—Å —è–∫–∏–π —Ç—Ä–µ–±–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–∂–Ω–æ—ó –∑ —Ñ—É–Ω–∫—Ü—ñ–π.

–î–ª—è –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —á–∞—Å—É —Å–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—å —Ñ—É–Ω–∫—Ü—ñ—î—é `clock()`  –∑ –≤–±—É–¥–æ–≤–∞–Ω–æ–≥–æ –º–æ–¥—É–ª—è `timie`:

	:::python
	>>> from time import clock
	>>> def f2():
	...     t1 = clock()
	...     res = ' ' * 10**6
	...     print('f2:', clock()-t1)
	...
	>>> s = f2()
	f2: 8.621491873839204e-05
	>>>
	
–ú–∏ –Ω–∞–ø–∏—Å–∞–ª–∏ –∫–æ–¥ –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó `f2()`, —è–∫–∏–π –≤–∏–º—ñ—Ä—é—î —ñ –≤–∏–≤–æ–¥–∏—Ç—å —á–∞—Å –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ü—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó. –Ü –≤–∂–µ —Ç—É—Ç –º–∏ –±–∞—á–∏–º–æ –Ω–∞—Å—Ç—É–ø–Ω—ñ –Ω–µ–¥–æ–ª—ñ–∫–∏:

* –º–∏ –∑–º—ñ–Ω–∏–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —á–∞—Å —Ä–æ–±–æ—Ç–∏ —è–∫–æ—ó —Ö–æ—á–µ–º–æ –≤–∏–º—ñ—Ä—é–≤–∞—Ç–∏
* –¥–ª—è —ñ–Ω—à–∏—Ö —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –∑–∞–¥–∞—á—ñ —Ç–∞–∫ —Å–∞–º–æ —Ç—Ä–µ–±–∞ –±—É–¥–µ –∑–º—ñ–Ω–∏—Ç–∏ –∫–æ–¥, –ø—Ä–∏—á–æ–º—É –∫–æ–¥ —Ü–µ–π –±—É–¥–µ –∫–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏—Å—å

–ê —á–∏ –Ω–µ –º–æ–∂–Ω–∞ –±—É–ª–æ –± –∑—Ä–æ–±–∏—Ç–∏ —Ç–∞–∫—É —à—Ç—É–∫—É, —â–æ–± –∫–æ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–º—ñ—Ä—é–≤–∞–ª–∞ —ñ –≤–∏–≤–æ–¥–∏–ª–∞ –± —á–∞—Å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –Ω–∞ —ó—ó –≤–∏–∫–æ–Ω–∞–Ω–Ω—è? –Ü —Ç—É—Ç –Ω–∞ –¥–æ–ø–æ–º–æ–≥—É –ø—Ä–∏—Ö–æ–¥—è—Ç—å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏. –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –º–∏ –∑–º–æ–∂–µ–º–æ —è–∫ –±–∏ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ –ø–µ—Ä–µ–¥–∞–º–æ –π–æ–º—É.

	:::python
	>>> def timeit(func):
	...     def wrapper():
	...         t1 = clock()
	...         func()
	...         print(clock()-t1)
	...     return wrapper
	...
	>>>
	>>> @timeit
	... def f1():
	...     res = ' ' * 10**6
	...
	>>> @timeit
	... def f2():
	...     res = ''
	...     for i in range(10**6):
	...             res += ' '
	...
	>>> f1()
	0.001224114997057768
	>>> f2()
	0.28307779048941484
	>>>	
		

		
### –õ–∞–Ω—Ü—é–∂–∫–∏ –∑ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤

–°–∏–Ω—Ç–∞–∫—Å–∏—Å Python –¥–æ–∑–≤–æ–ª—è—î –æ–¥–Ω–æ—á–∞—Å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–µ–∫—ñ–ª—å–∫–æ—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤.

	:::python
	>>> def bread(func):
	...     def wrapper():
	...             print('–•–ª—ñ–±')
	...             func()
	...             print('–•–ª—ñ–±')
	...     return wrapper
	...
	>>> def salad(func):
	...     def wrapper():
	...             print('–ó–µ–ª–µ–Ω–∏–Ω–∞')
	...             func()
	...             print('–ó–µ–ª–µ–Ω–∏–Ω–∞')
	...     return wrapper
	...
	>>> @bread
	... @salad
	... def stake():
	...     print("–ú'—è—Å–æ")
	...
	...
	>>> stake()
	–•–ª—ñ–±
	–ó–µ–ª–µ–Ω–∏–Ω–∞
	–ú'—è—Å–æ
	–ó–µ–ª–µ–Ω–∏–Ω–∞
	–•–ª—ñ–±
	>>>
	
–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —Ç–∏—Ö —Å–∞–º–∏—Ö –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤, –∞–ª–µ –±–µ–∑ "–º–∞–≥—ñ—á–Ω–æ–≥–æ" —Å–∏–º–≤–æ–ª–∞ `@`:

	:::python
	stake = bread(salad(stake))

–ó–∞—É–≤–∞–∂—Ç–µ —â–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è:

	:::python
	>>> @salad
	... @bread
	... def stake():
	...     print("–ú'—è—Å–æ")
	...
	>>> stake()
	–ó–µ–ª–µ–Ω–∏–Ω–∞
	–•–ª—ñ–±
	–ú'—è—Å–æ
	–•–ª—ñ–±
	–ó–µ–ª–µ–Ω–∏–Ω–∞
	>>>

		
		
		
		
		
### –î–µ–∫–æ—Ä—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—ó –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

–£ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –ø—Ä–∏–∫–ª–∞–¥–∞—Ö –º–∏ –¥–µ–∫–æ—Ä—É–≤–∞–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –Ω–µ –º–∞–ª–∏ –Ω—ñ—è–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤. –ê —è–∫ —â–æ–¥–æ —Ñ—É–Ω–∫—Ü—ñ–π –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏?

–ü—Ä–∏–ø—É—Å—Ç–∏–º–æ –º–∞—î–º–æ —Ç–∞–∫—É —Ñ—É–Ω–∫—Ü—ñ—é:

	:::python
	>>> def div(a, b):
	...     return a / b
	...
	>>>
	
–ü—Ä–∏ –ø–µ–≤–Ω–∏—Ö —É–º–æ–≤–∞—Ö –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ –ø–æ–º–∏–ª–∫—É:
	
	:::python
	>>> div(2, 0)
	Traceback (most recent call last):
	  File "<stdin>", line 1, in <module>
	  File "<stdin>", line 2, in div
	ZeroDivisionError: division by zero
	>>>

–î–∞–≤–∞–π—Ç–µ —Å–ø—Ä–æ–±—É—î–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –±—É–¥–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤—Ö—ñ–¥–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ—ó:

	:::python
	>>> def smart_div(func):
	...     def wrapper(a, b):
	...             print("I am going to divide",a,"and",b)
	...             if b == 0:
	...                     print("Oops! cannot divide")
	...                     return
	...             return func(a, b)
	...     return wrapper
	...
	>>>

–¢–∞–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –ø–æ–≤–µ—Ä–Ω–µ `None` —è–∫—â–æ —É–º–æ–≤–∞ —Å–ø—Ä–∞—Ü—é—î:

	:::python
	>>> @smart_div
	... def div(a, b):
	...     return a / b
	...
	>>> div(1, 0)
	I am going to divide 1 and 0
	Oops! cannot divide
	>>> div(1, 1)
	I am going to divide 1 and 1
	1.0
	>>>

–ú–æ–∂–Ω–∞ –∑–∞—É–≤–∞–∂–∏—Ç–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤–∫–ª–∞–¥–µ–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó-–æ–±–≥–æ—Ä—Ç–∫–∏ `wrapper()` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ —Ç–∞–∫—ñ —Å–∞–º—ñ —è–∫ —ñ —É —Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ –¥–µ–∫–æ—Ä—É—î—Ç—å—Å—è. –ó–Ω–∞—é—á–∏ —Ü–µ –º–∏ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ "–∑–∞–≥–∞–ª—å–Ω–∏–π" –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—É–¥—å-—è–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.

–ù–∞–ø–∏—à–µ–º–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –±—É–¥–µ –ø–æ–≤—ñ–¥–æ–º–ª—è—Ç–∏ –Ω–∞–º, —â–æ –º–∏ –ø–µ—Ä–µ–¥–∞–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—É –≤—ñ–Ω –¥–µ–∫–æ—Ä—É—î:

	:::python
	>>> def works_for_all(func):
	...     def wrapper(*args, **kwargs):
	...             print('I got next parameters:', args, kwargs)
	...             return func(*args, **kwargs)
	...     return wrapper
	...
	>>> @works_for_all
	... def f(a, b):
	...     pass
	...
	>>> f('string', b=123)
	I got next parameters: ('string',) {'b': 123}
	>>>
	

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

–î–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, —è–∫–∏–π –±—É–¥–µ –≥–æ—Ç—É–≤–∞—Ç–∏ –Ω–∞–º —Å–µ–Ω–¥–≤—ñ—á—ñ:

	:::python
	>>> def make_sandwich(func):
	...     def wrapper(sandwich_with):
	...             print('–•–ª—ñ–±')
	...             func(sandwich_with)
	...             print('–•–ª—ñ–±')
	...     return wrapper
	...
	>>> @make_sandwich
	... def sandwich(sandwich_with):
	...     print(sandwich_with)
	...
	>>> sandwich("–ú'—è—Å–æ")
	–•–ª—ñ–±
	–ú'—è—Å–æ
	–•–ª—ñ–±
	>>>

–ù–µ–ø–æ–≥–∞–Ω–æ. –ê–ª–µ —è–∫ —â–æ–¥–æ —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ –¥–ª—è –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è —Å–µ–Ω–¥–≤—ñ—á–∞ –º–∏ –∑–∞—Ö–æ—á–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–µ —Ö–ª—ñ–±, –∞, –ø—Ä–∏–ø—É—Å—Ç–∏–º–æ, —Ç–æ—Å—Ç–∏? –ù–∞–ø—Ä–æ—à—É—î—Ç—å—Å—è —ñ–¥–µ—è –ø–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É —â–æ –º–∏ —Ö–æ—á–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤ —è–∫–æ—Å—Ç—ñ "–æ–±–≥–æ—Ä—Ç–∫–∏" –Ω–∞—à–æ–≥–æ —Å–µ–Ω–¥–≤—ñ—á–∞, —Ç–æ–±—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—É —è–∫—ñ—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏.

–û—Ç–∂–µ, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î —Å–≤–æ—ó –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –∞–ª–µ –ø–æ—Ç—ñ–º –≤—ñ–Ω —â–µ –º–∞—î –ø—Ä–∏–π–Ω—è—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫—É –º–∞—î –¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏, –∞ –ø–æ—Ç—ñ–º —â–µ –π –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó. –¢–∞–∫–∏–º —á–∏–Ω–æ–º –Ω–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –∑—Ä–æ–±–∏—Ç–∏ –∞–∂ 3 —Ñ—É–Ω–∫—Ü—ñ—ó:

	:::python
	>>> def make_sandwich(sandwich_cover):
	...     def decorator(func):
	...             def wrapper(sandwich_with):
	...                     print(sandwich_cover)
	...                     func(sandwich_with)
	...                     print(sandwich_cover)
	...             return wrapper
	...     return decorator
	...
	>>> @make_sandwich('–¢–æ—Å—Ç')
	... def sandwich(sandwich_with):
	...     print(sandwich_with)
	...
	>>> sandwich("–ö–æ–≤–±–∞—Å–∞")
	–¢–æ—Å—Ç
	–ö–æ–≤–±–∞—Å–∞
	–¢–æ—Å—Ç
	>>> @make_sandwich('–•–ª—ñ–±')
	... def sandwich(sandwich_with):
	...     print(sandwich_with)
	...
	>>> sandwich("–°–∞–ª–æ")
	–•–ª—ñ–±
	–°–∞–ª–æ
	–•–ª—ñ–±
	>>>

–§—É–Ω–∫—Ü—ñ—è `make_sandwich` –ø—Ä–∏–π–º–∞—î –≤ —è–∫–æ—Å—Ç—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "–æ–±–≥–æ—Ä—Ç–∫—É" –¥–ª—è —Å–µ–Ω–¥–≤—ñ—á–∞ `sandwich_cover` —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Ñ—É–Ω–∫—Ü—ñ—é `decorator` —è–∫–∞, —è–∫ —ñ —Ä–∞–Ω—ñ—à–µ, –ø—Ä–∏–π–º–∞—î —Ç—ñ–ª—å–∫–∏ —Ñ—É–Ω–∫—Ü—ñ—é —â–æ —Ç—Ä–µ–±–∞ –¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Å–≤–æ—é –≤–Ω—É—Ç—Ä—ñ—à–Ω—é —Ñ—É–Ω–∫—Ü—ñ—é `wrapper`, —è–∫–∞ —É —Å–≤–æ—é —á–µ—Ä–≥—É –ø—Ä–∏–π–º–∞—î –∞—Ä–≥—É–º–µ–Ω—Ç–∏ –¥–µ–∫–æ—Ä–æ–≤–∞–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó `func`.

–¢–µ –∂ —Å–∞–º–µ –º–æ–∂–Ω–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ "–±–µ–∑ –º–∞–≥—ñ—ó":

	:::python
	>>> def sandwich(sandwich_with):
	...     print(sandwich_with)
	...
	>>> sandwich = make_sandwich('–•–ª—ñ–±')(sandwich)
	>>> sandwich("–°–∞–ª–æ")
	–•–ª—ñ–±
	–°–∞–ª–æ
	–•–ª—ñ–±
	>>>

–ó –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Ç–µ–∂ –º–æ–∂–Ω–∞ –±—É–¥—É–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–∫–∏:

	:::python
	>>> @make_sandwich('–•–ª—ñ–±')
	... @make_sandwich('–•—Ä—ñ–Ω')
	... def super_sandwich(sandwich_with):
	...     print(sandwich_with)
	...
	>>> super_sandwich("–°–∞–ª–æ")
	–•–ª—ñ–±
	–•—Ä—ñ–Ω
	–°–∞–ª–æ
	–•—Ä—ñ–Ω
	–•–ª—ñ–±
	>>>
	
### –ö–ª–∞—Å-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
<!-- https://habr.com/ru/post/587066/ -->

–û—Ç–∂–µ —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏ —Ç—Ä–∏ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–¥–Ω–∞ –≤ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—ó. 
–í–∏–≥–ª—è–¥–∞—î —Ç—Ä—ñ—à–µ—á–∫–∏ –º–æ–Ω—Å—Ç—Ä—É–æ–∑–Ω–æ...
–Ü —Å–∞–º–µ —Ç–∞–∫ –±—É–ª–æ –ø—Ä–∏–π–Ω—è—Ç–æ –ø–∏—Å–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏, 
–¥–æ–∫–∏ –∫–æ–º—É—Å—å —É –≥–æ–ª–æ–≤—É –Ω–µ –ø—Ä–∏–π—à–ª–∞ —Å–≤—ñ—Ç–ª–∞ –¥—É–º–∫–∞, 
—â–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —É –≤–∏–≥–ª—è–¥—ñ –∫–ª–∞—Å–∞. 

–ü–æ —Å—É—Ç—ñ –Ω–∞–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ –µ—Ç–∞–ø–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è–º 
–ø–µ—Ä–µ–¥–∞–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —ñ –≤–∏–∫–ª–∏–∫–∞, 
—Ç–æ–±—Ç–æ –∑—Ä–æ–±–∏—Ç–∏ —Ç–µ, —â–æ —Ä–æ–±–ª—è—Ç—å –∫–ª–∞—Å–∏. 

	:::python
	class sandwich_cover:
		def __init__(self, cover):
			self._cover = cover
			
		def __call__(self, func):
			def wrapper(sandwich_with):
				print(self._cover)
				func(sandwich_with)
				print(self._cover)
			return wrapper

–ü—Ä–∏–≥–æ—Ç—É—î–º–æ "–∫–ª–∞—Å–Ω–∏–π" —Å–µ–Ω–¥–≤—ñ—á:
		
	:::python
	>>> @sandwich_cover('–¢–æ—Å—Ç')
	... @sandwich_cover('–•—Ä—ñ–Ω')
	... def sandwich(sandwich_with):
	...     print(sandwich_with)
	...
	>>> sandwich("–ö–æ–≤–±–∞—Å–∞")
	–¢–æ—Å—Ç
	–•—Ä—ñ–Ω
	–ö–æ–≤–±–∞—Å–∞
	–•—Ä—ñ–Ω
	–¢–æ—Å—Ç
	>>>

–ö–æ–¥ –≤–∏–≥–ª—è–¥–∞—î –Ω–∞–±–∞–≥–∞—Ç–æ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—à–∏–º. 
–ó–∞–ª–∏—à–∏–ª–æ—Å—å –ª–∏—à–µ –∑–º–∏—Ä–∏—Ç–∏—Å—å –∑ –Ω–∞–∑–≤–æ—é –∫–ª–∞—Å–∞ –∑ –º–∞–ª–µ–Ω—å–∫–æ—ó –±—É–∫–≤–∏, 
–∞–±–æ –∂ –∑ –Ω–∞–∑–≤–æ—é –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –∑ –≤–µ–ª–∏–∫–æ—ó üòä.

### –î–µ–∫–æ—Ä—É–≤–∞–Ω–Ω—è –∫–ª–∞—Å—ñ–≤

–î–µ–∫–æ—Ä—É–≤–∞—Ç–∏ –º–æ–∂–Ω–∞ –Ω–µ –ª–∏—à–µ —Ñ—É–Ω–∫—Ü—ñ—ó, –∞–ª–µ —ñ –∫–ª–∞—Å–∏. 
–†–µ–∞–ª—ñ–∑—É—î–º–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, 
—è–∫–∏–π –¥–æ–¥–∞—î –¥–æ –∫–ª–∞—Å–∞ –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∫–ª–∞—Å–∞ —É –≤–∏–≥–ª—è–¥—ñ —Å–∏–º–≤–æ–ª—å–Ω–æ–≥–æ —Ä—è–¥–∫–∞: 

	:::python
	def auto_str_class(any_class):
		def str(self):
			variables = (f'{key}={value!r}' for key, value in vars(self).items())
			return f'{any_class.__name__}({", ".join(variables)})'
		
		any_class.__str__ = str
		return any_class

–¢–µ–ø–µ—Ä –¥–µ–∫–æ—Ä–æ–≤–∞–Ω—ñ –∫–ª–∞—Å–∏ –º–æ–∂—É—Ç—å –¥–µ—Ç–∞–ª—å–Ω–ª–æ —Ä–æ–∑–∫–∞–∑–∞—Ç–∏ –ø—Ä–æ —Å–µ–±–µ:

	:::python
	>>> @auto_str_class
	... class Person:
	...     def __init__(self, name, age):
	...         self.name = name
	...         self.age = age
	...
	>>> p = Person('Jane', 26)
	>>> print(p)
	Person(name='Jane', age=26)
	>>>


## –†–µ–∑—é–º–µ

* –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä ‚Äî —Å–ø–æ—Å—ñ–± –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É —Ñ—É–Ω–∫—Ü—ñ—ó, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å –∫–æ–¥–∞
* –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –¥–µ—â–æ —Å–ø–æ–≤—ñ–ª—å–Ω—é—é—Ç—å –≤–∏–∫–ª–∏–∫–∏ —Ñ—É–Ω–∫—Ü—ñ–π
* –ø–æ—Ä—è–¥–æ–∫ –≤–∫–∞–∑–∞–Ω–Ω—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è	
* –∫–ª–∞—Å –º–æ–∂–µ –≤–∏—Å—Ç—É–ø–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º
* –¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏ –º–æ–∂–Ω–∞ –Ω–µ –ª–∏—à–µ —Ñ—É–Ω–∫—Ü—ñ—ó, –∞–ª–µ —ñ –∫–ª–∞—Å–∏
